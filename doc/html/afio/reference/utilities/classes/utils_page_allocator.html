<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>utils::page_allocator</title>
<link rel="stylesheet" href="../../../../../../libs/afio/doc/html/myboostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="../../../../afio.html" title="Chapter&#160;1.&#160;Boost.AFIO 1.40">
<link rel="up" href="../classes.html" title="Classes">
<link rel="prev" href="../classes.html" title="Classes">
<link rel="next" href="utils_secded_ecc.html" title="utils::secded_ecc">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../classes.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../classes.html"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../afio.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="utils_secded_ecc.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="afio.reference.utilities.classes.utils_page_allocator"></a><a class="link" href="utils_page_allocator.html" title="utils::page_allocator">utils::page_allocator</a>
</h5></div></div></div>
<p>
            <script type="text/javascript">
var disqus_identifier = 'utils_page_allocator';
var disqus_title = 'Boost.AFIO utils::page_allocator';
</script>
          </p>
<p>
            <a class="indexterm" name="idp32167880"></a><a class="indexterm" name="idp32168192"></a>
An STL allocator which allocates large TLB page memory.If the operating
            system is configured to allow it, this type of memory is particularly
            efficient for doing large scale file i/o. This is because the kernel
            must normally convert the scatter gather buffers you pass into extended
            scatter gather buffers as the memory you see as contiguous may not, and
            probably isn't, actually be contiguous in physical memory. Regions returned
            by this allocator <span class="emphasis"><em>may</em></span> be allocated contiguously
            in physical memory and therefore the kernel can pass through your scatter
            gather buffers unmodified.
          </p>
<h6>
<a name="afio.reference.utilities.classes.utils_page_allocator.h0"></a>
            <span><a name="afio.reference.utilities.classes.utils_page_allocator.description"></a></span><a class="link" href="utils_page_allocator.html#afio.reference.utilities.classes.utils_page_allocator.description">Description</a>
          </h6>
<p>
            A particularly useful combination with this allocator is with the page_sizes()
            member function of <span class="bold"><strong>afio_dispatcher</strong></span>.
            This will return which pages sizes are possible, and which page sizes
            are enabled for this user. If writing a file copy routine for example,
            using this allocator with the largest page size as the copy chunk makes
            a great deal of sense.
          </p>
<p>
            Be aware that as soon as the allocation exceeds a large page size, most
            systems allocate in multiples of the large page size, so if the large
            page size were 2Mb and you allocate 2Mb + 1 byte, 4Mb is actually consumed.
          </p>
<h6>
<a name="afio.reference.utilities.classes.utils_page_allocator.h1"></a>
            <span><a name="afio.reference.utilities.classes.utils_page_allocator.synopsis"></a></span><a class="link" href="utils_page_allocator.html#afio.reference.utilities.classes.utils_page_allocator.synopsis">Synopsis</a>
          </h6>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> <span class="identifier">T</span><span class="special">&gt;</span>
<span class="keyword">class</span> <span class="identifier">utils</span><span class="special">::</span><span class="identifier">page_allocator</span>
<span class="special">{</span>
  <span class="comment">// ...</span>
<span class="special">};</span>
</pre>
<h6>
<a name="afio.reference.utilities.classes.utils_page_allocator.h2"></a>
            <span><a name="afio.reference.utilities.classes.utils_page_allocator.template_parameter_s"></a></span><a class="link" href="utils_page_allocator.html#afio.reference.utilities.classes.utils_page_allocator.template_parameter_s">Template
            parameter(s)</a>
          </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                    <p>
                      Parameter
                    </p>
                  </th>
<th>
                    <p>
                      Description
                    </p>
                  </th>
</tr></thead>
<tbody><tr>
<td>
                    <p>
                      typename T
                    </p>
                  </td>
<td>
                  </td>
</tr></tbody>
</table></div>
<h6>
<a name="afio.reference.utilities.classes.utils_page_allocator.h3"></a>
            <span><a name="afio.reference.utilities.classes.utils_page_allocator.constructor_s"></a></span><a class="link" href="utils_page_allocator.html#afio.reference.utilities.classes.utils_page_allocator.constructor_s">Constructor(s)</a>
          </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                    <p>
                      Function
                    </p>
                  </th>
<th>
                    <p>
                      Description
                    </p>
                  </th>
<th>
                    <p>
                      Parameters
                    </p>
                  </th>
</tr></thead>
<tbody>
<tr>
<td>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">page_allocator</span><span class="special">()</span></pre>
                  </td>
<td>
                  </td>
<td>
                  </td>
</tr>
<tr>
<td>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">U</span><span class="special">&gt;</span>
<span class="identifier">page_allocator</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">page_allocator</span><span class="special">&lt;</span> <span class="identifier">U</span> <span class="special">&gt;</span> <span class="special">&amp;</span> <span class="special">)</span></pre>
                  </td>
<td>
                  </td>
<td>
                    <p>
                      <span class="bold"><strong>const page_allocator&lt; U &gt; &amp;</strong></span>:
                      <span class="emphasis"><em></em></span>:
                    </p>
                  </td>
</tr>
</tbody>
</table></div>
<h6>
<a name="afio.reference.utilities.classes.utils_page_allocator.h4"></a>
            <span><a name="afio.reference.utilities.classes.utils_page_allocator.member_function_s"></a></span><a class="link" href="utils_page_allocator.html#afio.reference.utilities.classes.utils_page_allocator.member_function_s">Member
            Function(s)</a>
          </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                    <p>
                      Function
                    </p>
                  </th>
<th>
                    <p>
                      Description
                    </p>
                  </th>
<th>
                    <p>
                      Parameters
                    </p>
                  </th>
<th>
                    <p>
                      Returns
                    </p>
                  </th>
</tr></thead>
<tbody>
<tr>
<td>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">size_type</span> <span class="identifier">max_size</span><span class="special">()</span></pre>
                  </td>
<td>
                  </td>
<td>
                  </td>
<td>
                  </td>
</tr>
<tr>
<td>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">pointer</span> <span class="identifier">address</span><span class="special">(</span><span class="identifier">reference</span> <span class="identifier">x</span><span class="special">)</span></pre>
                  </td>
<td>
                  </td>
<td>
                    <p>
                      <span class="bold"><strong>reference</strong></span>: <span class="emphasis"><em>x</em></span>:
                    </p>
                  </td>
<td>
                  </td>
</tr>
<tr>
<td>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">const_pointer</span> <span class="identifier">address</span><span class="special">(</span><span class="identifier">const_reference</span> <span class="identifier">x</span><span class="special">)</span></pre>
                  </td>
<td>
                  </td>
<td>
                    <p>
                      <span class="bold"><strong>const_reference</strong></span>: <span class="emphasis"><em>x</em></span>:
                    </p>
                  </td>
<td>
                  </td>
</tr>
<tr>
<td>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="identifier">pointer</span> <span class="identifier">allocate</span><span class="special">(</span><span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">void</span> <span class="special">*</span> <span class="identifier">hint</span> <span class="special">=</span> <span class="number">0</span><span class="special">)</span></pre>
                  </td>
<td>
                  </td>
<td>
                    <p>
                      <span class="bold"><strong>size_type</strong></span>: <span class="emphasis"><em>n</em></span>:
                    </p>
                    <p>
                      <span class="bold"><strong>const void *</strong></span>: <span class="emphasis"><em>hint</em></span>:
                    </p>
                  </td>
<td>
                  </td>
</tr>
<tr>
<td>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="keyword">void</span> <span class="identifier">deallocate</span><span class="special">(</span><span class="identifier">pointer</span> <span class="identifier">p</span><span class="special">,</span> <span class="identifier">size_type</span> <span class="identifier">n</span><span class="special">)</span></pre>
                  </td>
<td>
                  </td>
<td>
                    <p>
                      <span class="bold"><strong>pointer</strong></span>: <span class="emphasis"><em>p</em></span>:
                    </p>
                    <p>
                      <span class="bold"><strong>size_type</strong></span>: <span class="emphasis"><em>n</em></span>:
                    </p>
                  </td>
<td>
                  </td>
</tr>
<tr>
<td>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">U</span><span class="special">,</span> <span class="keyword">class</span><span class="special">...</span> <span class="identifier">Args</span><span class="special">&gt;</span>
<span class="keyword">void</span> <span class="identifier">construct</span><span class="special">(</span><span class="identifier">U</span> <span class="special">*</span> <span class="identifier">p</span><span class="special">,</span> <span class="identifier">Args</span> <span class="special">&amp;&amp;...</span> <span class="identifier">args</span><span class="special">)</span></pre>
                  </td>
<td>
                  </td>
<td>
                    <p>
                      <span class="bold"><strong>U *</strong></span>: <span class="emphasis"><em>p</em></span>:
                    </p>
                    <p>
                      <span class="bold"><strong>Args &amp;&amp;...</strong></span>: <span class="emphasis"><em>args</em></span>:
                    </p>
                  </td>
<td>
                  </td>
</tr>
<tr>
<td>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">class</span> <span class="identifier">U</span><span class="special">&gt;</span>
<span class="keyword">void</span> <span class="identifier">destroy</span><span class="special">(</span><span class="identifier">U</span> <span class="special">*</span> <span class="identifier">p</span><span class="special">)</span></pre>
                  </td>
<td>
                  </td>
<td>
                    <p>
                      <span class="bold"><strong>U *</strong></span>: <span class="emphasis"><em>p</em></span>:
                    </p>
                  </td>
<td>
                  </td>
</tr>
</tbody>
</table></div>
<h6>
<a name="afio.reference.utilities.classes.utils_page_allocator.h5"></a>
            <span><a name="afio.reference.utilities.classes.utils_page_allocator.header"></a></span><a class="link" href="utils_page_allocator.html#afio.reference.utilities.classes.utils_page_allocator.header">Header</a>
          </h6>
<p>
            <code class="computeroutput"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">afio</span><span class="special">/</span><span class="identifier">v2</span><span class="special">/</span><span class="identifier">afio</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>
          </p>
<p>
            </p>
<div>
<a name="comments"></a><div id="disqus_thread"></div>
<script type="text/javascript">

// Get the hX element with class "title"
var titles = document.getElementsByClassName("title");
for (var n = 0; n < titles.length; n++) {
  var title = titles[n];
  if(title.lastElementChild.nodeName!="a")
  {
    var a_elem = document.createElement("a");
    a_elem.setAttribute("href", "#comments");
    var span_elem = document.createElement("span");
    span_elem.setAttribute("class", "disqus-comment-count");
    span_elem.setAttribute("data-disqus-identifier", disqus_identifier);
    var text_node = document.createTextNode("Comments");
    span_elem.appendChild(text_node);
    a_elem.appendChild(span_elem);
    title.parentElement.appendChild(a_elem);
    title.setAttribute("style", "clear: both; display: inline-block;")
  }
}
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'boostafio';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
</div>
<p>

          </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2013-2015 Niall Douglas
      and Paul Kirth<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../classes.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../classes.html"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../afio.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="utils_secded_ecc.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
